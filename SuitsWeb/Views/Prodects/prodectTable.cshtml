@model IEnumerable<Suites.Entities.Prodect>

<h2>prodectTable</h2>

@using (Html.BeginForm("prodectTable", "Prodects", "POST"))
{<div class="row">
        <div class="col-8">
            @Html.TextBox("Search", null, new { @class = "form-control" })
        </div>
        <div class="col-3">
          
            <div class="row">

                <div class="col-6">
                    <input  class="btn btn-info form-control" name="Searchbtn" type="button"value="Search" id="Searchbtn" />
                </div>


                <div class="col-6">
                    <input class="btn btn-primary form-control" name="Newhbtn" type="button" value="NEW" id="newBtn" />
                </div>
            </div>
        </div>
    </div>
    
   
}
<div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.prise)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Description)
                </th>
                <th>
                    Operation
                </th>

            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.prise)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>
                    <td>
                        <input type="button" data-id="@item.ID" class="btn btn-warning Edite" value="Edite" />
                        |
                        <input type="button" data-id="@item.ID" class="btn btn-danger Delete" value="Delete" />
                    </td>
                </tr>
            }
        </tbody>

    </table>
</div>

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/jqueryval")


<script type="text/javascript">



    $('#Searchbtn').click(function () {

        var searchVal = $('#Search').val();

        $.ajax({
            type: 'GET',
            url: '/Prodects/prodectTable',
            data: { Search: searchVal }

        })
            .done(function (response) {
                $('#tablePro').html(response);
                $('#opeartionArea').html("");
            })
            .fail({

            });

    });

    $('#newBtn').click(function () {

        $.ajax({
            type: 'GET',
            url: '/Prodects/Create',
        })
            .done(function (response) {
                $('#opeartionArea').html(response);
            })
            .fail({

            });

    });

    $('.Edite').click(function () {

        $.ajax({
            type: 'GET',
            url: '/Prodects/Edit',
            data: { id: $(this).attr('data-id') }
        })
            .done(function (response) {
                $('#opeartionArea').html(response);
            })
            .fail({

            });

    });

    $('.Delete').click(function () {

        var ConfirmDelete = confirm("Are you Wont delete this Item");

        if (ConfirmDelete) {
            $.ajax({
                type: 'POST',
                url: '/Prodects/Delete',
                data: { id: parseInt($(this).attr("data-id")) }
            })
                .done(function (response) {
                    $('#tablePro').html(response);
                })
                .fail({

                });
        }

    });

</script>
